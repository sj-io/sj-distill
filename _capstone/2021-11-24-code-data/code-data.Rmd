---
title: "Part 4: Code Enforcement Analysis"
description: |
  A short description of the post.
author:
  - name: Sarah Johnson
date: 2021-11-24
output:
  distill::distill_article:
    self_contained: false
draft: true
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
```

Memphians are able to report problems to code enforcement (CE) by calling 311 or submitting a request through an app called [SeeClickFix](https://seeclickfix.com/), used in hundreds of towns across the nation. The City of Memphis has made 311 data open through [Memphis Data Hub](https://data.memphistn.gov/dataset/Service-Requests-since-2016/hmd4-ddta), where anyone can download all service requests since 2016.

The dataset automatically updates daily and is quite large: as of November 9, 2021 the dataset contained 1,302,280 rows. However, only a portion of these requests are related to CE. After filtering by department, 164,481 requests remain that are categorized under CE, about 13% of the total dataset. Each row is a unique request, meaning updates do not create a new row.

My original goal for this paper was to analyze CE requests related to renter-occupied housing to see how often tenants reported problems and what types of problems they report. However, I found this analysis was not possible for multiple reasons.

### No consistent housing category

Whenever a citizen creates a 311 request, they must select a category. (In the dataset, this is shown under the `REQUEST_TYPE` column.) There are 14 unique CE categories, 12 of which are obviously not related to structural problems: 5 are related to yards or weeds, 3 are COVID-related, 2 are vehicle-related; and 2 are inactive categories. The remaining two categories are "Substandard, Derelict Struc" (shorted to "derelict" for remainder of this section) and "miscellaneous".

Originally I suspected "derelict" would contain all housing-related requests, yet this was far from the case. Completing a keyword search for "tenant" (and related misspellings) showed of 1,808 requests, 148 were classified under "derelict" and 1,660 under "miscellaneous". Analyzing individual cases showed many of the "miscellaneous" were obviously related to interior housing issues, such as problems with air conditioning units, refrigerators, toilets, etc.

While 92% of requests containing "tenant" were classified under "miscellaneous," this category is a catch-all and contains many more types of cases than just renter-related issues. In fact, "miscellaneous" is the most used request type for CE data: 47,220 rows fall under this category, or 29% of all service requests.

Keyword searches are ineffective at creating a complete dataset of renter-related problems. Inspectors sometimes use the words "resident" or "occupant" to refer to a tenant, yet these words are sometimes used to describe owner-occupied properties as well. Other times, no keyword is used to mention the resident; for instance, there are 114 rows that mention "mold", but 80% of these cases do not contain the words "tenant", "resident" or "occupant". Another 524 rows do not mention a resident keyword but contain "apartment" or "unit"; these vary on relevancy but prove additional cases can easily be missed. Lastly, a search for indoor furnishings, like "stove", "sink", "toilet", revealed another 235 additional cases.

As there is no obvious way to filter for renter-related problems, it is not possible to accurately know how many renters have contacted CE. In total, keyword searched revealed 2,904 requests that were possibly related to renters, though this include some irrelevant cases and omits other relevant requests. Still, very few code enforcement requests appear to be placed by renters.

### No category for duplicates

Within the dataset, there are many instances of duplicate cases, yet no easy way to filter out such requests. Sometimes the `RESOLUTION_CODE` is used

124 requests at 45 Idlewild, 20 were placed one day in February 2019. Were these duplicate entries or a concerted effort by tenants to contact CE?

### Incorrect location data
