---
title: "Memphis Housing Market"
description: |
  Reviewing the Memphis housing market.
author:
  - name: Sarah Johnson
date: 2021-11-18
output:
  distill::distill_article:
    self_contained: false
    toc: true
draft: true
bibliography: references.bib
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
```

# Intro

Memphis is located in the southwestern corner of Tennessee, on the bluffs of the Mississippi River. Memphis is within Shelby County, and the metro area includes seven other counties in Tennessee, Mississippi, and Arkansas.

This section uses data from the 2015-2019 5-year American Community Survey to understand the Memphis rental housing market. First, I will compare the number of renters in the Memphis MSA to other metro areas in the US, and explore where in Shelby County renters are located. Next, I will look into the demographics of renters in Memphis, including race, age, household size, and cost burden. Finally, I will look into the characteristics of renter-occupied housing in Memphis, concluding with the most common household problems renters face, according to the 2019 American Housing Survey for the Memphis MSA.

### Renter-Occupied Households

There are two main ways to study the population of an area: individuals and households. In a place where all individuals live alone, the number of households and individuals are identical. When multiple people live together in the same housing unit, they are counted as one household. Additionally, the Census counts individuals who live in group quarters, like nursing homes, adult correctional facilities, and military quarters, separate from renter- and owner-occupied households.

Typically when we think of population, we are referring to the number of individuals in a place. However, this paper seeks to understand the characteristics of renters. For this topic, a wider range of Census data is available when we limit our scope to households. There are certain limitations---demographic data is limited to the head of the household, and if multiple individuals under the same household have different characteristics, some data will be missing. Still, the data allows a general understanding of households in an area. As such, any mentions of "renters" in the below sections refers to renter-occupied households, rather than individual renters.

```{r library, include=FALSE}
library(tidyverse)
library(tidycensus)
library(DT)
```

```{r variables}
vbs <- load_variables(2019, "acs5")
```

# Renter Locations

Where do renters live? The first half of this section compares the percentage of renters in the Memphis MSA with other large metro areas in the US. The second portion focuses on Shelby County, and breaks down which places and census tracts contain the highest percentage of renters.

## US Metro Areas

Before studying renters in Memphis, it's useful to know how the area compares to other metro areas in the US. A metro area (also called a metropolitan statistical area, or MSA) is a geographic boundary created by the US Census. It contains a county with an urban core, and surrounding counties with "a high degree of social and economic integration" (measured by commute to work) [@cbsa2021]. Any mention of "Memphis" in this section refers to the Memphis MSA, which includes eight counties spanning Tennessee, Mississippi, and Arkansas.

```{r cbsa, include=FALSE}
cbsa <- get_acs(
  geography = "cbsa",
  variables = c(
    Owner = "B25003_002",
    Renter = "B25003_003"
  ),
  summary_var = "B25003_001",
  cache_table = TRUE
) %>%
  slice_max(summary_est, n = 100) %>% 
  mutate(percent = 100 * (estimate / summary_est))
```

```{r cbsaRent}
cbsaRent <- cbsa %>% 
  filter(variable == "Renter") %>% 
  select(NAME, estimate, summary_est, percent) %>% 
  arrange(desc(percent)) %>% 
  mutate(NAME = str_remove(NAME, "-.*$")) %>% 
  mutate(NAME = str_remove(NAME, ",.*$")) 
```

The table below lists the top 50 metros in the US (by number of households), sorted by the percentage of renters.

```{r cbsaDT}
datatable(
  cbsaRent,
  rownames = FALSE,
  colnames = c('Metro Area', 'Renters', 'Total Households', 'Rent Percentage'),
  caption = "Table 1: Percent of Renters in US Metro Areas"
) %>%
  formatPercentage(4, mark = ".", interval = 2) %>%
  formatRound(2:3, digits = 0)
```

Memphis ranks 43rd in the US for the total number of households in a metro area. However, 40% of these households are renter-occupied, placing Memphis in the 10th highest rent percentage for a metro. Comparatively, Nashville ranks 36th for total number of households, and 35th for the percentage of renters. Of the top 10 metros for rent percentage, Memphis has the largest difference between these ranks. Thus we can conclude Memphis has an above average percentage of renters compared to other metros in the US.

## Places in Shelby County

While 40% of households in the Memphis MSA are renters, this percentage varies when we subdivide the metro area. In general, there are more rental units in a central city/county compared to neighboring areas. This section will focus on Shelby County, and any mention of "Memphis" refers exclusively to the city of Memphis.

```{r placesV}
places <- c("Memphis", "Lakeland", "Bartlett", "Germantown", "Collierville", "Millington", "Arlington") %>% 
  str_c(collapse = "|")
```

```{r place, include=FALSE}
place <- get_acs(
  geography = "place",
  state = "TN",
  variables = c(
    Owner = "B25003_002",
    Renter = "B25003_003"
  ),
  summary_var = "B25003_001",
  cache_table = TRUE
) %>% 
  filter(str_detect(NAME, places)) %>% 
  mutate(percent = 100 * (estimate / summary_est))
```

The following table shows the percentage of renters for places in Shelby County.

```{r uninc}
#' manually adding data for unincorporated Shelby County
#' Shelby County housing units = 351,194 total; 157,847 rent
#' Housing Units in places = 315,835 total; 145,705 rent
#' Housing units not in places = 35,359 total; 12,142 rent

placeUninc <- c('Unincorporated County', 12142, 35359, 34.33921)
```

```{r placeTable}
placeTable <- place %>% 
  filter(variable == "Renter") %>% 
  select(NAME, estimate, summary_est, percent) %>% 
  rbind(placeUninc) %>% 
  arrange(desc(percent)) %>%  
  mutate(NAME = str_remove(NAME, ",.*$"),
         NAME = str_remove(NAME, " town| city"))
```

```{r placeDT}
datatable(
  placeTable,
  rownames = FALSE,
  colnames = c('Place', 'Renters', 'Total Households', 'Rent Percentage'),
  caption = "Table 2: Percent of Renters in Places in Shelby County",
  options = list(pageLength = 8),
  autoHideNavigation = getOption("DT.autoHideNavigation", TRUE)
) %>% formatPercentage(4, mark = ".", interval = 2) %>% 
  formatRound(2:3, digits = 0)
```

Though the overall MSA is majority owner-occupied, the city of Memphis is mostly renters, with 53% of all households renting. While this paper does not include a time-series analysis, it's worth mentioning that only within the past decade has Memphis shifted from being majority owner- to majority renter-occupied. For reference, the 2007-2011 5-year ACS reported that Memphis households were 53% owner, 47% renter.

The next highest percentage is Millington, which is home to a [Naval base](https://tennesseeencyclopedia.net/entries/memphis-naval-air-station-millington/), drawing in residents who are often only temporarily stationed (and thus more likely to rent). Just over a third of households in unincorporated Shelby County are renters. Of larger suburbs with more than 10,000 residents, Collierville has the most renters, and the town's rent percentage is more than 6 points higher than Bartlett or Germantown.

Lakeland has the smallest percentage of renting households in the county. However, this percentage is likely to change in the coming years, with developments in Lakeland that will bring more than 800 multifamily units. In response to the massive influx, Lakeland passed an 18-month moratorium on standalone apartment buildings in October 2019 to give the city "a little bit of breathing room" and allow development of the city's schools and infrastructure [@waddell2019]. Under pressure from residents, the moratorium was extended in October 2020 for another two years and expanded to include all new apartment development, including mixed-use projects. In response to citizen concerns, the mayor stated, "There's just no taste in Lakeland for apartments right now" [@waddell2020].

Germantown has also sought to limit new multifamily housing. The city first initiated an 18-month moratorium on all apartment development in January 2018, followed by a shorter moratorium on standalone, single-use multifamily complexes. In January 2020, the city's aldermen voted to ban these complexes altogether by amending zoning ordinances. Apartments and condos are still allowed as part of mixed-use developments in certain areas of the city [@warren2020].

Meanwhile, Collierville has been home to Schilling Farms since the early 1990s, "the premier mixed-use development in West Tennessee and the Mid-South region." The site contains 1,180 apartments and the town recently voted to expand and include another 259 rental units [@warren2021].

The map below shows the percentage of renters in Shelby County census tracts. The map is interactive, and the layers button to the left can be used to change the map background (ESRI.WorldImagery offers a satellite view).

```{r tract, include=FALSE}
tract <- get_acs(
  geography = "tract",
  state = "TN",
  county = "Shelby",
  variables = c(
    Owner = "B25003_002",
    Renter = "B25003_003"
  ),
  summary_var = "B25003_001",
  cache_table = TRUE,
  geometry = TRUE
) %>% 
  mutate(percent = 100 * (estimate / summary_est))
```

```{r map, layout = 'l-page', fig.height=6}
library(mapview)
mapview(tract, zcol = "percent")
```

Most tracts with the highest percentage of renters are located near the downtown core of Memphis.

# Renter Demographics

## Race of Householder

```{r raceVs}
raceVs <- c(
  White = "B25003H_003",
  Black = "B25003B_003",
  Hispanic = "B25003I_003",
  Asian = "B25003D_003"
)
```

The below table shows the number of renting households in Memphis, by race.

```{r racePlace, include=FALSE}
racePlace <- get_acs(
  geography = "place",
  state = "TN",
  variables = raceVs,
  summary_var = "B25003_003",
  cache_table = TRUE
) %>% 
  filter(str_detect(NAME, places)) %>% 
  mutate(percent = 100 * (estimate / summary_est))
```

```{r raceTable}
raceTable <- racePlace %>% 
  filter(str_detect(NAME, "Memphis")) %>% 
  select(variable, estimate, summary_est, percent) %>% 
  arrange(desc(percent))
```

```{r raceDT}
datatable(
  raceTable,
  rownames = FALSE,
  colnames = c('Race/Ethnicity', 'Renters', 'Total Renters', 'Percentage'),
  caption = "Table 3: Race/Ethnicity of Renters in Memphis",
  options = list(pageLength = 4),
  autoHideNavigation = getOption("DT.autoHideNavigation", TRUE)
) %>% formatPercentage(4, mark = ".", interval = 2) %>% 
  formatRound(2:3, digits = 0)
```

Where do the renters live? (by race)

```{r raceTract, include=FALSE}
raceTract <- get_acs(
  geography = "tract",
  state = "TN",
  county = "Shelby",
  variables = raceVs,
  summary_var = "B25003_003",
  cache_table = TRUE,
  geometry = TRUE
) %>% 
  mutate(percent = 100 * (estimate / summary_est))
```

```{r mapRace, layout = 'l-page'}
ggplot(raceTract, aes(fill = percent)) +
  geom_sf() +
  facet_wrap(~variable) +
  theme_void() +
  labs(title = "Race/Ethnicity of Renters in Shelby County Census Tracts")
```

## Age of Householder

How old are the renters?

```{r ageVs}
ageVs <- c(
  "15-24" = "B25007_013",
  "25-34" = "B25007_014",
  "35-44" = "B25007_015",
  "45-54" = "B25007_016",
  "55-59" = "B25007_017",
  "60-64" = "B25007_018",
  "65-74" = "B25007_019",
  "75-84" = "B25007_020",
  "85+" = "B25007_021"
)
```

```{r agePlace, include=FALSE}
agePlace <- get_acs(
  geography = "place",
  state = "TN",
  variables = ageVs,
  summary_var = "B25007_012",
  cache_table = TRUE
) %>% 
  filter(str_detect(NAME, places)) %>% 
  mutate(percent = 100 * (estimate / summary_est))
```

The below graph shows the number of renters in Memphis, by age.

```{r memphisAge}
ageMemphis <- agePlace %>% 
  filter(str_detect(NAME, "Memphis")) %>% 
  select(variable, estimate, summary_est, percent)
```

```{r ggAge}
ggplot(ageMemphis, aes(x = variable, y = estimate)) +
  geom_col(fill = "lightseagreen") +
  theme_minimal() +
  labs(title = "Age of renters in Memphis, TN",
       subtitle = "2015-2019 5-year ACS estimates",
       y = "Estimate",
       x = "Age")
```

Of renting households in Memphis, the highest percentage are in the 25-34 age range, followed by the 35-44 age range, then the 45-54 age range. While renters skew younger, there are still a sizeable number of older renters; 12.6% of all renting households in Memphis are over 65, the typical retirement age. Note that this figure does not include people in nursing homes (these individuals are included in the "group quarters population").

## Household Size

What is the household size of renters?

```{r HHsizeVs}
HHsizeVs <- c(
  "1" = "B25009_011",
  "2" = "B25009_012",
  "3" = "B25009_013",
  "4" = "B25009_014",
  "5" = "B25009_015",
  "6" = "B25009_016",
  "7+" = "B25009_017"
)
```

```{r HHsizePlace, include=FALSE}
HHsizePlace <- get_acs(
  geography = "place",
  state = "TN",
  variables = HHsizeVs,
  summary_var = "B25009_010",
  cache_table = TRUE
) %>% 
  filter(str_detect(NAME, places)) %>% 
  mutate(percent = 100 * (estimate / summary_est))
```

```{r memphisHHsizeTable}
HHsizeMemphis <- HHsizePlace %>% 
  filter(str_detect(NAME, "Memphis")) %>% 
  select(variable, estimate, summary_est, percent)
```

```{r ggHHsize}
ggplot(HHsizeMemphis, aes(x = variable, y = estimate)) + 
  geom_col(fill = "steelblue") +
  theme_minimal() +
  labs(title = "Household size of renters in Memphis, TN",
       subtitle = "2015-2019 5-year ACS estimates",
       y = "Estimate",
       x = "People in Household")
```

Of renting households in Memphis, 42% live alone.

## Cost Burden

Rent Burdened?

```{r GRAPHIvs}
GRAPHIvs <- c(
  "Less than 10.0%" = "B25070_002",
  "10.0-14.9%" = "B25070_003",
  "15.0-19.9%" = "B25070_004",
  "20.0-24.9%" = "B25070_005",
  "25.0-29.9%" = "B25070_006",
  "30.0-34.9%" = "B25070_007",
  "35.0-39.9%" = "B25070_008",
  "40.0-49.9%" = "B25070_009",
  "50.0% or more" = "B25070_010",
  "Not computed" = "B25070_011"
)
```

```{r GRAPHI, include=FALSE}
GRAPHIplace <- get_acs(
  geography = "place",
  state = "TN",
  variables = GRAPHIvs,
  summary_var = "B25070_001",
  cache_table = TRUE
) %>% 
  filter(str_detect(NAME, places)) %>% 
  mutate(percent = 100 * (estimate / summary_est))
```

```{r memGRAPHItbl}
GRAPHImemphis <- GRAPHIplace %>% 
  filter(str_detect(NAME, "Memphis")) %>% 
  select(variable, estimate, summary_est, percent)
```

```{r ggGRAPHI}
ggplot(GRAPHImemphis, aes(x = estimate, y = fct_reorder(variable, GRAPHIvs, .desc = TRUE))) +
  geom_col(fill = "mediumseagreen") +
  theme_minimal() +
  labs(title = "Cost burden of renters in Memphis, TN",
       subtitle = "2015-2019 5-year ACS estimates",
       y = "Cost Burden",
       x = "Estimate")
```

Of renting households in Memphis, the majority, 51.2% are cost burdened or extremely cost burdened. 23.5% pay between 30-50% of their income in rent. 27.7% pay 50% or more of their income in rent.

The below table shows cost burden rates for every place in Shelby County.

```{r GRAPHI2, include=FALSE}
GRAPHIplace2 <- get_acs(
  geography = "place",
  state = "TN",
  variables = c(
    "B25070_002",
    "B25070_003",
    "B25070_004",
    "B25070_005",
    "B25070_006",
    "B25070_007",
    "B25070_008",
    "B25070_009",
    "B25070_010",
    "B25070_011"
  ), 
  summary_var = "B25070_001",
  cache_table = TRUE
) %>% 
  filter(str_detect(NAME, places)) %>% 
  mutate(percent = 100 * (estimate / summary_est))
```

```{r groupedGRAPHI, layout = 'l-page'}
GRAPHIgrouped <- GRAPHIplace2 %>% 
  mutate(costBurden = case_when(
    variable < "B25070_007" ~ "notCostBurdened",
    variable < "B25070_010" ~ "costBurdened",
    variable < "B25070_011" ~ "extremelyCostBurdened",
    TRUE ~ "notComputed"
  )) %>% 
  group_by(NAME, costBurden, summary_est) %>% 
  summarise(estimate = sum(estimate)) %>% 
  mutate(percent = 100 * (estimate / summary_est)) %>% 
  select(-c(summary_est, estimate)) %>% 
  pivot_wider(names_from = costBurden, values_from = percent) %>% 
  select(NAME, notCostBurdened, costBurdened, extremelyCostBurdened, notComputed) %>% 
  arrange(desc(notCostBurdened)) %>%  
  mutate(NAME = str_remove(NAME, ",.*$"),
         NAME = str_remove(NAME, " town| city"))
```

```{r}
datatable(
  GRAPHIgrouped,
  rownames = FALSE,
  colnames = c('Place', 'Not Cost Burdened', 'Cost Burdened', 'Extremely Cost Burdened', 'Not Computed'),
  caption = "Table 4: Cost Burden of Renters in Places in Shelby County",
  options = list(pageLength = 7),
  autoHideNavigation = getOption("DT.autoHideNavigation", TRUE)
) %>% formatPercentage(2:5, mark = ".", interval = 2)
```

Collierville has the lowest rate of cost burdenship, with 61% of renting households having affordable housing. Memphis has the highest rate of cost burdenship, with the majority of households paying more than 30% of their income in rent.

# Housing Characteristics

## Year Structure Built

What is the age of housing?

```{r yearBltVs}
yearBltVs <- c(
  "Built 2014 or later" = "B25036_014",
  "Built 2010 to 2013" = "B25036_015",
  "Built 2000 to 2009" = "B25036_016",
  "Built 1990 to 1999" = "B25036_017",
  "Built 1980 to 1989" = "B25036_018",
  "Built 1970 to 1979" = "B25036_019",
  "Built 1960 to 1969" = "B25036_020",
  "Built 1950 to 1959" = "B25036_021",
  "Built 1940 to 1949" = "B25036_022",
  "Built 1939 or earlier" = "B25036_023"
)
```

```{r yearBltPlace, include=FALSE}
yearBltPlace <- get_acs(
  geography = "place",
  state = "TN",
  variables = yearBltVs,
  summary_var = "B25036_013",
  cache_table = TRUE
) %>% 
  filter(str_detect(NAME, places)) %>% 
  mutate(percent = 100 * (estimate / summary_est))
```

The table below shows the year the home was built for renter-occupied households.

```{r memphisYrBlt}
yearBltMemphis <- yearBltPlace %>% 
  filter(str_detect(NAME, "Memphis")) %>% 
  select(variable, estimate, summary_est, percent)
```

```{r ggYrBlt}
ggplot(yearBltMemphis, aes(x = estimate, y = variable)) +
  geom_col(fill = "peru") +
  theme_minimal() +
  labs(title = "Year built of renter-occupied housing in Memphis, TN",
       subtitle = "2015-2019 5-year ACS estimates",
       y = "Year Built",
       x = "Estimate")
```

Of renter-occupied housing in Memphis, the greatest percentage was built between 1970 and 1979. Very little of this housing was built within the past decade.

Older structures are more likely to need maintenance, and they can be susceptible to health risks that are not in newer homes. For instance, the ban on lead based paint was not passed until 1979, and homes built before the ban are likely to have lead paint unless they have been remediated. In Memphis, 63% of renter-occupied housing was built before 1979.

## Housing Quality Problems

What kind of problems does the housing have?

```{r AHSimport, include=FALSE}
AHSimport <- read_csv("AHS-mem-hsgqual-all.csv")
```

```{r AHSall}
AHSall <- AHSimport %>% 
  filter(tenure == "Renter") %>% 
  select(char:estimate, total) %>% 
  mutate(percent = 100 * (estimate/total))
```

According to the American Housing Survey, 93.53% of renters had adequate housing, while 6.47% had moderate or severely inadequate housing.

The table below shows the most common problems renters experience, according to the American Housing Survey.

+-------------------------------------------------------------------------------------------------------+----------+------------+
| Characteristic                                                                                        | Estimate | Percentage |
+=======================================================================================================+==========+============+
| Signs of cockroaches in last 12 months                                                                | 50,900   | 22.72%     |
+-------------------------------------------------------------------------------------------------------+----------+------------+
| Bars on windows\*                                                                                     | 16,100\* | 13.69%\*   |
+-------------------------------------------------------------------------------------------------------+----------+------------+
| Signs of mice or rats inside home in last 12 months                                                   | 24,400   | 10.89%     |
+-------------------------------------------------------------------------------------------------------+----------+------------+
| Water leakage from inside structure in last 12 months                                                 | 19,500   | 8.71%      |
+-------------------------------------------------------------------------------------------------------+----------+------------+
| Water leakage from outside structure in last 12 months                                                | 18,900   | 8.44%      |
+-------------------------------------------------------------------------------------------------------+----------+------------+
| Uncomfortably cold for 24 hours or more last winter (occupying the same home, with heating equipment) | 12,300   | 6.61%      |
+-------------------------------------------------------------------------------------------------------+----------+------------+
| Broken windows\*                                                                                      | 7,600\*  | 6.46%\*    |
+-------------------------------------------------------------------------------------------------------+----------+------------+
| Open cracks or holes (interior)                                                                       | 14,400   | 6.43%      |
+-------------------------------------------------------------------------------------------------------+----------+------------+
| With fuse or breaker blown in last 3 months                                                           | 14,100   | 6.30%      |
+-------------------------------------------------------------------------------------------------------+----------+------------+
| Missing roofing material\*                                                                            | 7,000\*  | 5.95%\*    |
+-------------------------------------------------------------------------------------------------------+----------+------------+
| Mold in last 12 months                                                                                | 11,800   | 5.27%      |
+-------------------------------------------------------------------------------------------------------+----------+------------+
| Hole in roof\*                                                                                        | 4,200\*  | 3.57%\*    |
+-------------------------------------------------------------------------------------------------------+----------+------------+
| Missing bricks, siding, or other outside wall material\*                                              | 3,900\*  | 3.32%\*    |
+-------------------------------------------------------------------------------------------------------+----------+------------+
| With no toilet working some time in last 3 months                                                     | 7,000    | 3.13%      |
+-------------------------------------------------------------------------------------------------------+----------+------------+
| Rooms without electric outlets                                                                        | 6,600    | 2.95%      |
+-------------------------------------------------------------------------------------------------------+----------+------------+
| With water stoppage in last 3 months                                                                  | 6,400    | 2.86%      |
+-------------------------------------------------------------------------------------------------------+----------+------------+
| Broken plaster or peeling paint (interior)                                                            | 5,300    | 2.37%      |
+-------------------------------------------------------------------------------------------------------+----------+------------+
| Sewage breakdown in last 3 months                                                                     | 5,100    | 2.34%      |
+-------------------------------------------------------------------------------------------------------+----------+------------+
| Exposed wiring                                                                                        | 3,900    | 1.74%      |
+-------------------------------------------------------------------------------------------------------+----------+------------+

: Table 5: Housing Quality Problems in Memphis MSA

Problems related to the exterior of the structure are only collected for single-family structures; these have been marked with an asterisk (\*).
