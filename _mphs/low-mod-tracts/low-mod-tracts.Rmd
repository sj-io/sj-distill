---
title: "low-mod-tracts"
description: |
  A short description of the post.
author:
  - name: Sarah Johnson
    url: {}
date: 2022-06-24
output:
  distill::distill_article:
    self_contained: false
---


```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
```

```{r}
library(tidyverse)
library(tidycensus)
library(tigris)
```

```{r}
v20 <- load_variables(2020, "acs5") 
```

```{r}
shelby <- counties(state = "TN") %>% 
  filter(NAME == "Shelby")
```

```{r}
lowmod <- read_csv("../_data/lowmod_tract.csv")

lomodCO <- lowmod %>%
  filter(STATE == 47 & COUNTY == 157) %>% 
  select(GEOID, LOWMODPCT)
```

```{r}
tract <- tracts(state = "TN", county = "Shelby")
```

```{r}
mphs <- places(state = "TN") %>% 
  filter(NAME == "Memphis")
```


```{r}
lowtr <- tract %>% 
  left_join(lomodCO, by = "GEOID") %>% 
  filter(LOWMODPCT >= 51)
```

```{r}
gglowmod <-  ggplot() +
  geom_sf(data = shelby) + 
  geom_sf(data = lowtr, aes(fill = LOWMODPCT), color = NA) +
  geom_sf(data = mphs, fill = NA, color = "red") +
  scale_fill_viridis_c() +
  theme_void() +
  labs(fill = "% Low-Mod",
       title = "Low-Moderate Income Census Tracts in Shelby County",
       subtitle = "Tracts with at least 51% low-mod households",
       caption = "Source: FY21 HUD Low- and Moderate-Income Summary Data using ACS 2011-2015")
```

```{r}
ggsave("lowmodtracts.png", gglowmod, bg = "white", width = 7, height = 5)
```


```{r}
rds <- roads(state = "TN", county = "Shelby")
```

```{r}
rds2 <- rds %>% 
  filter(RTTYP != "M")
```


```{r}
gg2 <- ggplot() +
  geom_sf(data = shelby, size = 1) + 
  geom_sf(data = lowtr, aes(fill = LOWMODPCT), color = NA) +
  geom_sf(data = rds2, color = "black", alpha = .2) +
  geom_sf(data = mphs, fill = NA, color = "red", size = .72) +
  scale_fill_viridis_c() +
  theme_void() +
  labs(fill = "% Low-Mod",
       title = "Low-Moderate Income Census Tracts in Shelby County",
       subtitle = "Tracts with at least 51% low-mod households",
       caption = "Source: FY21 HUD Low- and Moderate-Income Summary Data using ACS 2011-2015")
```

```{r}
ggsave("lowmodtracts.png", gg2, bg = "white", width = 7, height = 5)
```


